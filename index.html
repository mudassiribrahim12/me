<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Official Website of Mudasir Mohammed Ibrahim</title>
    <!-- App Icon -->
    <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='45' fill='%233498db'/%3E%3Ctext x='50' y='50' text-anchor='middle' dy='0.35em' font-family='Arial, sans-serif' font-weight='bold' font-size='45' fill='white'%3EMMI%3C/text%3E%3C/svg%3E">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        /* Reset & Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        :root {
            /* Color palette inspired by Kate Crawford's site */
            --bg-primary: #ffffff;
            --bg-secondary: #f8f8f8;
            --text-primary: #000000; /* Changed from #222222 to #000000 for better clarity */
            --text-secondary: #333333; /* Changed from #666666 to #333333 for better contrast */
            --text-tertiary: #555555; /* Changed from #888888 to #555555 for better contrast */
            --accent: #1a5fb4;
            --accent-light: #e8f1fb;
            --border: #e0e0e0;
            --shadow: 0 2px 12px rgba(0, 0, 0, 0.06);
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            --max-width: 1200px;
            --header-height: 70px;
            --spacing-xs: 0.5rem;
            --spacing-sm: 1rem;
            --spacing-md: 2rem;
            --spacing-lg: 4rem;
            --spacing-xl: 6rem;
        }
        
        body.dark-theme {
            --bg-primary: #121212;
            --bg-secondary: #1a1a1a;
            --text-primary: #ffffff;
            --text-secondary: #e0e0e0; /* Changed from #b0b0b0 to #e0e0e0 for better contrast */
            --text-tertiary: #bbbbbb; /* Changed from #888888 to #bbbbbb for better contrast */
            --accent: #62a0ea;
            --accent-light: #2a2a3a;
            --border: #333333;
            --shadow: 0 2px 12px rgba(0, 0, 0, 0.2);
        }
        
        html {
            scroll-behavior: smooth;
            font-size: 16px;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            font-weight: 400;
            line-height: 1.6;
            color: var(--text-primary);
            background-color: var(--bg-primary);
            transition: var(--transition);
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        
        /* Simple YouTube Section */
.youtube-section-simple {
    background-color: var(--bg-secondary);
    border-radius: 12px;
    padding: var(--spacing-lg);
    margin-top: var(--spacing-xl);
    border: 1px solid var(--border);
}

.youtube-player-simple {
    position: relative;
    width: 100%;
    border-radius: 8px;
    overflow: hidden;
    box-shadow: var(--shadow);
}

.youtube-player-simple iframe {
    display: block;
    border: none;
}
.simple-youtube {
    background-color: var(--bg-secondary);
    border-radius: 12px;
    padding: var(--spacing-lg);
    margin-top: var(--spacing-xl);
    border: 1px solid var(--border);
}

.youtube-wrapper {
    border-radius: 8px;
    overflow: hidden;
    box-shadow: var(--shadow);
}

/* YouTube Showcase Styles */
.youtube-showcase {
    background-color: var(--bg-secondary);
    border-radius: 12px;
    padding: var(--spacing-lg);
    margin-top: var(--spacing-xl);
    border: 1px solid var(--border);
}

.video-container {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-md);
}

.youtube-embed {
    position: relative;
    width: 100%;
    padding-bottom: 56.25%; /* 16:9 aspect ratio */
    height: 0;
    overflow: hidden;
    border-radius: 8px;
    box-shadow: var(--shadow);
}

.youtube-embed iframe {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border: none;
}

.video-description {
    text-align: center;
    padding: var(--spacing-md);
}

.youtube-channel-btn {
    margin-top: var(--spacing-sm);
    background-color: #ff0000;
}

.youtube-channel-btn:hover {
    background-color: #cc0000;
}
        
        h1, h2, h3, h4, h5, h6 {
            font-family: 'Playfair Display', Georgia, serif;
            font-weight: 600;
            line-height: 1.2;
            margin-bottom: var(--spacing-sm);
            color: var(--text-primary);
        }
        
        h1 {
            font-size: 3rem;
            letter-spacing: -0.02em;
        }
        
        h2 {
            font-size: 2.25rem;
            margin-bottom: var(--spacing-lg);
            position: relative;
            display: inline-block;
        }
        
        h2:after {
            content: '';
            position: absolute;
            bottom: -12px;
            left: 0;
            width: 60px;
            height: 3px;
            background-color: var(--accent);
        }
        
        h3 {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: var(--spacing-sm);
        }
        
        p {
            margin-bottom: var(--spacing-sm);
            color: var(--text-secondary);
            font-size: 1.125rem;
            line-height: 1.7;
        }
        
        a {
            color: var(--accent);
            text-decoration: none;
            transition: var(--transition);
        }
        
        a:hover {
            color: var(--text-primary);
        }
        
        .container {
            width: 100%;
            max-width: var(--max-width);
            margin: 0 auto;
            padding: 0 var(--spacing-md);
        }
        
        section {
            padding: var(--spacing-xl) 0;
        }
        
        /* Header */
        header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: var(--header-height);
            background-color: var(--bg-primary);
            border-bottom: 1px solid var(--border);
            z-index: 1000;
            transition: var(--transition);
        }
        
        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            height: 100%;
        }
        
        .logo {
            font-family: 'Playfair Display', serif;
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--text-primary);
            text-decoration: none;
        }
        
        .logo span {
            color: var(--accent);
        }
        
        .nav-links {
            display: flex;
            list-style: none;
            gap: var(--spacing-lg);
        }
        
        .nav-links a {
            color: var(--text-primary);
            font-weight: 500;
            font-size: 0.95rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            position: relative;
            padding: 0.5rem 0;
        }
        
        .nav-links a:after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background-color: var(--accent);
            transition: var(--transition);
        }
        
        .nav-links a:hover:after,
        .nav-links a.active:after {
            width: 100%;
        }
        
        .header-right {
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
        }
        
        /* Search Button and Dropdown */
.search-container {
    position: relative;
}

.search-toggle {
    background: none;
    border: none;
    color: var(--text-primary);
    font-size: 1.2rem;
    cursor: pointer;
    padding: 0.5rem;
    border-radius: 50%;
    transition: var(--transition);
    width: 44px;
    height: 44px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.search-toggle:hover {
    background-color: var(--accent-light);
}

.search-dropdown {
    position: absolute;
    top: 100%;
    right: 0;
    width: 300px;
    background-color: var(--bg-primary);
    border: 1px solid var(--border);
    border-radius: 8px;
    box-shadow: var(--shadow);
    padding: var(--spacing-md);
    display: none;
    z-index: 1001;
    margin-top: 10px;
}

.search-dropdown.active {
    display: block;
    animation: slideDown 0.3s ease;
}

@keyframes slideDown {
    from {
        opacity: 0;
        transform: translateY(-10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.search-box {
    display: flex;
    gap: 0.5rem;
}

.search-input {
    flex: 1;
    padding: 0.75rem 1rem;
    border: 1px solid var(--border);
    border-radius: 6px;
    background-color: var(--bg-primary);
    color: var(--text-primary);
    font-size: 0.95rem;
    transition: var(--transition);
}

.search-input:focus {
    outline: none;
    border-color: var(--accent);
    box-shadow: 0 0 0 2px var(--accent-light);
}

.search-button {
    padding: 0.75rem 1.25rem;
    background-color: var(--accent);
    color: white;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    font-weight: 500;
    transition: var(--transition);
}

.search-button:hover {
    background-color: var(--text-primary);
}

.search-results {
    margin-top: var(--spacing-md);
    max-height: 300px;
    overflow-y: auto;
    display: none;
}

.search-results.active {
    display: block;
}

.search-result-item {
    padding: 0.75rem;
    border-bottom: 1px solid var(--border);
    cursor: pointer;
    transition: var(--transition);
}

.search-result-item:last-child {
    border-bottom: none;
}

.search-result-item:hover {
    background-color: var(--accent-light);
}

.search-result-title {
    font-weight: 500;
    color: var(--text-primary);
    font-size: 0.95rem;
    margin-bottom: 0.25rem;
}

.search-result-content {
    font-size: 0.85rem;
    color: var(--text-secondary);
    line-height: 1.4;
}

.search-highlight {
    background-color: rgba(255, 255, 0, 0.3);
    padding: 0 2px;
    border-radius: 2px;
    font-weight: 600;
}

.no-results {
    text-align: center;
    padding: var(--spacing-md);
    color: var(--text-tertiary);
    font-style: italic;
}

/* Mobile search adjustments */
@media (max-width: 768px) {
    .search-dropdown {
        position: fixed;
        top: var(--header-height);
        left: 0;
        right: 0;
        width: 100%;
        border-radius: 0;
        margin-top: 0;
        border-left: none;
        border-right: none;
    }
}

/* Add to existing mobile styles (around line 256) */
@media (max-width: 768px) {
    .header-right {
        gap: 0.5rem;
    }
    
    .search-toggle {
        width: 40px;
        height: 40px;
        font-size: 1.1rem;
    }
}
        
        .theme-toggle {
            background: none;
            border: none;
            color: var(--text-primary);
            font-size: 1.2rem;
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 50%;
            transition: var(--transition);
        }
        
        .theme-toggle:hover {
            background-color: var(--accent-light);
        }
        
        .mobile-menu {
            display: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--text-primary);
        }
        
        /* Hero Section */
        .hero {
            padding: calc(var(--header-height) + var(--spacing-xl)) 0 var(--spacing-xl);
            background: var(--bg-secondary);
            border-bottom: 1px solid var(--border);
        }
        
        .hero-content {
            max-width: 800px;
            margin: 0 auto;
            text-align: center;
        }
        
        .hero-subtitle {
            font-size: 1.25rem;
            color: var(--text-secondary);
            margin-bottom: var(--spacing-md);
            text-transform: uppercase;
            letter-spacing: 2px;
        }
        
        .hero-description {
            font-size: 1.25rem;
            max-width: 600px;
            margin: 0 auto var(--spacing-lg);
        }
        
        .social-icons {
            display: flex;
            justify-content: center;
            gap: var(--spacing-sm);
            margin: var(--spacing-lg) 0;
        }
        
        .social-icons a {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 44px;
            height: 44px;
            background-color: var(--accent-light);
            color: var(--accent);
            border-radius: 50%;
            font-size: 1.1rem;
            transition: var(--transition);
        }
        
        .social-icons a:hover {
            background-color: var(--accent);
            color: white;
            transform: translateY(-3px);
        }
        
        /* About Section */
        .about-grid {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: var(--spacing-xl);
            align-items: start;
        }
        
        .profile-img-container {
            position: relative;
        }
        
        .profile-img {
            width: 100%;
            height: auto;
            border-radius: 8px;
            box-shadow: var(--shadow);
        }
        
        .research-interests {
            margin-top: var(--spacing-lg);
        }
        
        .interest-tags {
            display: flex;
            flex-wrap: wrap;
            gap: var(--spacing-xs);
            margin-top: var(--spacing-sm);
        }
        
        .interest-tag {
            background-color: var(--accent-light);
            color: var(--accent);
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.875rem;
            font-weight: 500;
        }
        
        /* Skills */
        .skills-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: var(--spacing-md);
            margin-top: var(--spacing-lg);
        }
        
        .skill-item h4 {
            font-family: 'Inter', sans-serif;
            font-weight: 600;
            font-size: 1rem;
            margin-bottom: var(--spacing-xs);
            color: var(--text-primary);
        }
        
        .skill-bar {
            height: 6px;
            background-color: var(--border);
            border-radius: 3px;
            overflow: hidden;
            margin-bottom: var(--spacing-sm);
        }
        
        .skill-level {
            height: 100%;
            background-color: var(--accent);
            border-radius: 3px;
        }
        
        /* Timeline */
        .timeline {
            position: relative;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .timeline:before {
            content: '';
            position: absolute;
            left: 30px;
            top: 0;
            bottom: 0;
            width: 2px;
            background-color: var(--border);
        }
        
        .timeline-item {
            position: relative;
            padding-left: 80px;
            margin-bottom: var(--spacing-lg);
        }
        
        .timeline-date {
            position: absolute;
            left: 0;
            top: 0;
            width: 60px;
            text-align: right;
            color: var(--accent);
            font-weight: 600;
            font-size: 0.875rem;
        }
        
        .timeline-content {
            background-color: var(--bg-primary);
            padding: var(--spacing-md);
            border-radius: 8px;
            border: 1px solid var(--border);
        }
        
        /* Projects */
        .projects {
            background-color: var(--bg-secondary);
        }
        
        .projects-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: var(--spacing-md);
        }
        
        .project-card {
            background-color: var(--bg-primary);
            border-radius: 8px;
            overflow: hidden;
            border: 1px solid var(--border);
            transition: var(--transition);
        }
        
        .project-card:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow);
            border-color: var(--accent);
        }
        
        .project-img-container {
            height: 200px;
            background-color: var(--accent-light);
            display: flex;
            align-items: center;
            justify-content: center;
            padding: var(--spacing-md);
        }
        
        .project-img {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
        }
        
        .project-info {
            padding: var(--spacing-md);
        }
        
        .project-tags {
            display: flex;
            flex-wrap: wrap;
            gap: var(--spacing-xs);
            margin: var(--spacing-sm) 0;
        }
        
        .tag {
            background-color: var(--accent-light);
            color: var(--accent);
            padding: 0.25rem 0.75rem;
            border-radius: 4px;
            font-size: 0.75rem;
            font-weight: 500;
        }
        
        .project-actions {
            display: flex;
            gap: var(--spacing-xs);
            margin-top: var(--spacing-sm);
        }
        
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            padding: 0.75rem 1.5rem;
            background-color: var(--accent);
            color: white;
            border: none;
            border-radius: 4px;
            font-size: 0.875rem;
            font-weight: 600;
            text-decoration: none;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .btn:hover {
            background-color: var(--text-primary);
            color: var(--bg-primary);
        }
        
        .btn-outline {
            background-color: transparent;
            border: 1px solid var(--border);
            color: var(--text-primary);
        }
        
        .btn-outline:hover {
            border-color: var(--accent);
            color: var(--accent);
            background-color: transparent;
        }
        
        .view-all {
            text-align: center;
            margin-top: var(--spacing-xl);
        }
        
        /* Publications */
        .publications-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: var(--spacing-xl);
        }
        
        .publication-item {
            padding: var(--spacing-md);
            border-bottom: 1px solid var(--border);
        }
        
        .publication-item:last-child {
            border-bottom: none;
        }
        
        .publication-meta {
            color: var(--text-tertiary);
            font-size: 0.875rem;
            margin-bottom: var(--spacing-xs);
        }
        
        .sidebar {
            background-color: var(--bg-secondary);
            padding: var(--spacing-md);
            border-radius: 8px;
            border: 1px solid var(--border);
        }
        
        /* Contact */
        .contact-info {
            text-align: center;
            max-width: 600px;
            margin: 0 auto var(--spacing-lg);
        }
        
        .contact-links {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: var(--spacing-lg);
            margin-top: var(--spacing-lg);
        }
        
        .contact-item {
            display: flex;
            align-items: center;
            gap: var(--spacing-xs);
            color: var(--text-primary);
        }
        
        .contact-item i {
            color: var(--accent);
            font-size: 1.25rem;
        }
        
        /* YouTube Section */
        .youtube-section {
            background-color: var(--bg-secondary);
            border-radius: 12px;
            padding: var(--spacing-lg);
            margin-top: var(--spacing-xl);
            border: 1px solid var(--border);
        }
        
        .youtube-container {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: var(--spacing-lg);
        }
        
        .youtube-player-container {
            position: relative;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: var(--shadow);
        }
        
        .youtube-player {
            width: 100%;
            aspect-ratio: 16/9;
            background-color: #000;
            border: none;
        }
        
        .video-info {
            padding: var(--spacing-md);
            background-color: var(--bg-primary);
            border-radius: 8px;
            border: 1px solid var(--border);
        }
        
        .video-title {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: var(--spacing-xs);
            color: var(--text-primary);
        }
        
        .video-stats {
            display: flex;
            justify-content: space-between;
            color: var(--text-tertiary);
            font-size: 0.875rem;
            margin-bottom: var(--spacing-sm);
        }
        
        .video-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: var(--spacing-md);
        }
        
        .video-timer {
            display: flex;
            align-items: center;
            gap: var(--spacing-xs);
            font-size: 0.875rem;
            color: var(--text-tertiary);
        }
        
        .timer-icon {
            color: var(--accent);
        }
        
        .playlist {
            display: flex;
            flex-direction: column;
            gap: var(--spacing-sm);
        }
        
        .playlist-item {
            display: flex;
            gap: var(--spacing-sm);
            padding: var(--spacing-sm);
            background-color: var(--bg-primary);
            border-radius: 8px;
            border: 1px solid var(--border);
            cursor: pointer;
            transition: var(--transition);
        }
        
        .playlist-item:hover {
            background-color: var(--accent-light);
            border-color: var(--accent);
        }
        
        .playlist-item.active {
            background-color: var(--accent-light);
            border-color: var(--accent);
        }
        
        .playlist-thumbnail {
            width: 80px;
            height: 45px;
            border-radius: 4px;
            overflow: hidden;
            flex-shrink: 0;
        }
        
        .playlist-thumbnail img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .playlist-info {
            flex: 1;
            overflow: hidden;
        }
        
        .playlist-title {
            font-size: 0.875rem;
            font-weight: 500;
            color: var(--text-primary);
            margin-bottom: 0.25rem;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        
        .playlist-channel {
            font-size: 0.75rem;
            color: var(--text-tertiary);
        }
        
        .youtube-link {
            text-align: center;
            margin-top: var(--spacing-md);
            padding-top: var(--spacing-md);
            border-top: 1px solid var(--border);
        }
        
        /* Blog Section Styles */
        .blog-section {
            background-color: var(--bg-secondary);
            padding: var(--spacing-xl) 0;
        }
        
        .blog-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: var(--spacing-lg);
            margin-top: var(--spacing-md);
        }
        
        .blog-card {
            background-color: var(--bg-primary);
            border-radius: 12px;
            overflow: hidden;
            border: 1px solid var(--border);
            transition: var(--transition);
            height: 100%;
            display: flex;
            flex-direction: column;
        }
        
        .blog-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow);
            border-color: var(--accent);
        }
        
        .blog-image-container {
            height: 200px;
            overflow: hidden;
        }
        
        .blog-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: var(--transition);
        }
        
        .blog-card:hover .blog-image {
            transform: scale(1.05);
        }
        
        .blog-content {
            padding: var(--spacing-md);
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }
        
        .blog-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--spacing-sm);
            font-size: 0.875rem;
            color: var(--text-tertiary);
        }
        
        .blog-date {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .blog-author {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .blog-title {
            font-size: 1.25rem;
            margin-bottom: var(--spacing-sm);
            color: var(--text-primary);
            line-height: 1.3;
        }
        
        .blog-excerpt {
            color: var(--text-secondary);
            margin-bottom: var(--spacing-md);
            flex-grow: 1;
            line-height: 1.6;
        }
        
        .blog-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-bottom: var(--spacing-md);
        }
        
        .blog-tag {
            background-color: var(--accent-light);
            color: var(--accent);
            padding: 0.25rem 0.75rem;
            border-radius: 4px;
            font-size: 0.75rem;
            font-weight: 500;
        }
        
        .blog-read-more {
            margin-top: auto;
        }
        
        .blog-loading {
            text-align: center;
            padding: var(--spacing-xl);
            color: var(--text-tertiary);
        }
        
        .blog-error {
            text-align: center;
            padding: var(--spacing-xl);
            color: #ff4444;
        }
        
        .blog-load-more {
            text-align: center;
            margin-top: var(--spacing-xl);
        }
        
        /* Footer */
        footer {
            background-color: var(--bg-secondary);
            border-top: 1px solid var(--border);
            padding: var(--spacing-xl) 0;
        }
        
        .footer-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .copyright {
            color: var(--text-primary); /* Changed to primary color for better visibility */
            font-size: 0.875rem;
            font-weight: 500;
        }
        
        .developer-note {
            color: var(--text-secondary);
            font-size: 0.875rem;
            margin-top: 0.5rem;
        }
        
        .footer-links {
            display: flex;
            gap: var(--spacing-md);
        }
        
        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 2000;
            overflow-y: auto;
        }
        
        .modal-content {
            background-color: var(--bg-primary);
            max-width: 1200px;
            margin: var(--spacing-xl) auto;
            border-radius: 8px;
            position: relative;
            padding: var(--spacing-xl);
        }
        
        .close-modal {
            position: absolute;
            top: var(--spacing-md);
            right: var(--spacing-md);
            background: none;
            border: none;
            font-size: 2rem;
            color: var(--text-primary);
            cursor: pointer;
        }
        
        /* Responsive Design */
      
        @media (max-width: 768px) {
            .nav-links {
                display: none;
            }
            
            .mobile-menu {
                display: block;
            }
            
            .mobile-nav {
                position: fixed;
                top: var(--header-height);
                left: 0;
                width: 100%;
                background-color: var(--bg-primary);
                border-bottom: 1px solid var(--border);
                padding: var(--spacing-md);
                display: none;
                z-index: 999;
            }
            
            .mobile-nav.active {
                display: block;
            }
            
            .mobile-nav a {
                display: block;
                padding: var(--spacing-sm) 0;
                border-bottom: 1px solid var(--border);
            }
            
            .skills-grid {
                grid-template-columns: 1fr;
            }
            
            .contact-links {
                flex-direction: column;
                align-items: center;
                gap: var(--spacing-md);
            }
            
            .footer-content {
                flex-direction: column;
                gap: var(--spacing-md);
                text-align: center;
            }
        }
        
        @media (max-width: 576px) {
            h1 { font-size: 2rem; }
            h2 { font-size: 1.75rem; }
            
            section {
                padding: var(--spacing-lg) 0;
            }
            
            .projects-grid {
                grid-template-columns: 1fr;
            }
            
            .modal-content {
                margin: var(--spacing-md);
                padding: var(--spacing-md);
            }
            
            .video-controls {
                flex-direction: column;
                gap: var(--spacing-sm);
                align-items: flex-start;
            }
        }
        
        /* Add new mobile-first responsive styles */
@media (max-width: 992px) {
    h1 { font-size: 2.5rem; }
    h2 { font-size: 2rem; }
    
    /* FIX: Make all grid layouts single column on tablets and phones */
    .about-grid,
    .publications-grid,
    .youtube-container,
    .projects-grid,
    .skills-grid,
    .blog-grid {
        grid-template-columns: 1fr !important;
        gap: var(--spacing-md);
    }
    
    /* FIX: Ensure contact form is single column */
    .contact-form-container .form-row {
        grid-template-columns: 1fr !important;
    }
    
    /* FIX: Make timeline single column with better spacing */
    .timeline:before {
        left: 15px;
    }
    
    .timeline-item {
        padding-left: 50px;
    }
    
    .timeline-date {
        width: 40px;
        font-size: 0.75rem;
    }
}

/* Additional fixes for very small screens */
@media (max-width: 480px) {
    h1 { font-size: 2rem; }
    h2 { font-size: 1.75rem; }
    
    /* FIX: Reduce padding on sections for small screens */
    section {
        padding: var(--spacing-lg) 0;
    }
    
    .container {
        padding: 0 var(--spacing-sm);
    }
    
    /* FIX: Make social icons smaller on mobile */
    .social-icons a {
        width: 40px;
        height: 40px;
        font-size: 1rem;
    }
    
    /* FIX: Adjust YouTube iframe height */
    .youtube-wrapper iframe {
        height: 250px;
    }
    
    /* FIX: Make contact links stack vertically */
    .contact-links {
        flex-direction: column;
        align-items: center;
        gap: var(--spacing-md);
    }
    
    /* FIX: Adjust project actions for small screens */
    .project-actions {
        flex-direction: column;
        gap: var(--spacing-xs);
    }
    
    .project-actions .btn {
        width: 100%;
        text-align: center;
    }
}

/* Search Highlight Animation */
.search-highlight-animation {
    animation: pulseHighlight 2s ease-in-out 3;
    border: 2px solid var(--accent);
    border-radius: 8px;
    position: relative;
}

@keyframes pulseHighlight {
    0% {
        box-shadow: 0 0 0 0 rgba(26, 95, 180, 0.7);
        border-color: var(--accent);
    }
    50% {
        box-shadow: 0 0 0 10px rgba(26, 95, 180, 0);
        border-color: #ff9900;
    }
    100% {
        box-shadow: 0 0 0 0 rgba(26, 95, 180, 0);
        border-color: var(--accent);
    }
}

/* Modal project highlight */
.modal-project-highlight {
    animation: modalPulse 2s ease-in-out 3;
    border: 3px solid var(--accent) !important;
    transform: scale(1.02);
    transition: all 0.3s ease;
}

@keyframes modalPulse {
    0% {
        box-shadow: 0 0 0 0 rgba(26, 95, 180, 0.7);
    }
    50% {
        box-shadow: 0 0 20px 10px rgba(26, 95, 180, 0.3);
    }
    100% {
        box-shadow: 0 0 0 0 rgba(26, 95, 180, 0);
    }
}
        
        /* Utility Classes */
        .text-center { text-align: center; }
        .mb-sm { margin-bottom: var(--spacing-sm); }
        .mb-md { margin-bottom: var(--spacing-md); }
        .mb-lg { margin-bottom: var(--spacing-lg); }
        .mt-sm { margin-top: var(--spacing-sm); }
        .mt-md { margin-top: var(--spacing-md); }
        .mt-lg { margin-top: var(--spacing-lg); }
        
        /* Fix for contact form layout */
.contact-form-container .form-row {
    display: grid;
    grid-template-columns: 1fr;
    gap: var(--spacing-md);
    margin-bottom: var(--spacing-md);
}

@media (min-width: 768px) {
    .contact-form-container .form-row {
        grid-template-columns: 1fr 1fr;
    }
}

/* Fix for timeline on mobile */
@media (max-width: 768px) {
    .timeline {
        padding-left: 20px;
    }
    
    .timeline:before {
        left: 10px;
    }
    
    .timeline-item {
        padding-left: 40px;
    }
    
    .timeline-date {
        width: 30px;
        font-size: 0.7rem;
        text-align: left;
    }
}

/* Fix for publication grid on mobile */
.publications-grid {
    display: block;
}

@media (min-width: 992px) {
    .publications-grid {
        display: grid;
        grid-template-columns: 2fr 1fr;
        gap: var(--spacing-xl);
    }
}

/* Fix for YouTube section */
.youtube-container {
    display: block;
}

@media (min-width: 768px) {
    .youtube-container {
        display: grid;
        grid-template-columns: 2fr 1fr;
        gap: var(--spacing-lg);
    }
}

/* Fix for about section grid */
.about-grid {
    display: block;
}

@media (min-width: 768px) {
    .about-grid {
        display: grid;
        grid-template-columns: 1fr 2fr;
        gap: var(--spacing-xl);
        align-items: start;
    }
}
        
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container header-container">
            <a href="#" class="logo">Mudasir M.<span> Ibrahim</span></a>
            <nav>
                <ul class="nav-links">
                    <li><a href="#home">Home</a></li>
                    <li><a href="#about">About</a></li>
                    <li><a href="#education">Education</a></li>
                    <li><a href="#projects">Projects</a></li>
                    <li><a href="#publications">Publications</a></li>
                    <li><a href="#blog">Blog</a></li>
                    <li><a href="#contact">Contact</a></li>
                </ul>
            </nav>
           
           <div class="header-right">
    <!-- Add search button here -->
    <div class="search-container">
        <button class="search-toggle" id="searchToggle" title="Search website">
            <i class="fas fa-search"></i>
        </button>
        <div class="search-dropdown" id="searchDropdown">
            <div class="search-box">
                <input type="text" class="search-input" id="searchInput" placeholder="Search for anything...">
                <button class="search-button" id="searchSubmit">
                    <i class="fas fa-search"></i>
                </button>
            </div>
            <div class="search-results" id="searchResults">
                <!-- Search results will appear here -->
            </div>
        </div>
    </div>
    
    <button class="theme-toggle" id="themeToggle">
        <i class="fas fa-moon"></i>
    </button>
    <div class="mobile-menu" id="mobileMenu">
        <i class="fas fa-bars"></i>
    </div>
</div>
                   </div>
        <div class="mobile-nav" id="mobileNav">
            <a href="#home">Home</a>
            <a href="#about">About</a>
            <a href="#education">Education</a>
            <a href="#projects">Projects</a>
            <a href="#publications">Publications</a>
            <a href="#blog">Blog</a>
            <a href="#contact">Contact</a>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero" id="home">
        <div class="container hero-content">
            <h1 class="mb-sm">Mudasir Mohammed Ibrahim</h1>
            <div class="hero-subtitle">Registered Nurse & Healthcare Researcher</div>
            <p class="hero-description">
                A dedicated healthcare professional, researcher, and data analyst developing accessible R Shiny web applications 
                to simplify complex analyses for healthcare professionals, students, and researchers.
            </p>
            <div class="social-icons">
                <a href="https://github.com/mudassiribrahim30" target="_blank" title="GitHub">
                    <i class="fab fa-github"></i>
                </a>
                <a href="https://linkedin.com/in/mudasir-mohammed-ibrahim-16b5141b0" target="_blank" title="LinkedIn">
                    <i class="fab fa-linkedin"></i>
                </a>
                <a href="https://scholar.google.com/citations?user=xEFzAvgAAAAJ&hl=en" target="_blank" title="Google Scholar">
                    <i class="fas fa-graduation-cap"></i>
                </a>
                <a href="https://orcid.org/0000-0002-9049-8222" target="_blank" title="ORCID">
                    <i class="fab fa-orcid"></i>
                </a>
            </div>
            <a href="#projects" class="btn">View Projects</a>
        </div>
    </section>

    <!-- About Section -->
    <section id="about">
        <div class="container">
            <h2>About</h2>
            <div class="about-grid">
                <div class="profile-img-container">
                    <img src="https://raw.githubusercontent.com/mudassiribrahim12/me/main/my picture.jpg" alt="Mudasir Mohammed Ibrahim" class="profile-img">
                </div>
                <div>
                    <p>
                        Mudasir Mohammed Ibrahim is a dedicated Ghanaian nurse with extensive clinical experience 
                        at Tamale Teaching Hospital, where he provides high-quality, patient-centered care.
                    </p>
                    <p>
                        He is also an experienced researcher with expertise in advanced quantitative methods 
                        including Structural Equation Modeling (SEM), factor analysis, and other rigorous 
                        statistical techniques. His commitment to data-driven innovation has inspired the 
                        development of multiple open-source R Shiny web applications.
                    </p>
                    <div class="research-interests">
                        <h3>Research Interests</h3>
                        <div class="interest-tags">
                            <span class="interest-tag">Chronic Diseases Epidemiology</span>
                            <span class="interest-tag">Maternal and Child Health</span>
                            <span class="interest-tag">Public Health</span>
                            <span class="interest-tag">Workplace Issues</span>
                        </div>
                    </div>
                    <div class="skills">
                        <h3>Core Competencies</h3>
                        <div class="skills-grid">
                            <div class="skill-item">
                                <h4>Health/ Clinical Research</h4>
                                <div class="skill-bar">
                                    <div class="skill-level" style="width: 100%"></div>
                                </div>
                            </div>
                            <div class="skill-item">
                                <h4>Advanced Statistical Analysis</h4>
                                <div class="skill-bar">
                                    <div class="skill-level" style="width: 100%"></div>
                                </div>
                            </div>
                            <div class="skill-item">
                                <h4>R Shiny Development (AI-assisted coding)</h4>
                                <div class="skill-bar">
                                    <div class="skill-level" style="width: 100%"></div>
                                </div>
                            </div>
                            <div class="skill-item">
                                <h4>Scientific Writing & Peer Review</h4>
                                <div class="skill-bar">
                                    <div class="skill-level" style="width: 100%"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Education & Work Section -->
    <section id="education" style="background-color: var(--bg-secondary);">
        <div class="container">
            <h2>Education & Experience</h2>
            <div class="timeline">
                <div class="timeline-item">
                    <div class="timeline-date">2025 - Present</div>
                    <div class="timeline-content">
                        <h3>Staff Nurse</h3>
                        <p class="text-tertiary">Tamale Teaching Hospital</p>
                        <p>Works in the Internal Medicine Department (Medical 3) at the hospital, providing high-quality, comprehensive nursing care for patients with both chronic and acute medical conditions, including cancer, hypertension, congestive cardiac failure, chronic liver disease, and chronic kidney disease. Performs thorough patient assessments, administers prescribed medications, closely monitors patient outcomes, and provides education to patients and their families to promote understanding, adherence, and overall well-being.</p>
                    </div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-date">2022 - 2024</div>
                    <div class="timeline-content">
                        <h3>Bachelor of Science in Nursing</h3>
                        <p class="text-tertiary">University of Cape Coast</p>
                        <p>Completed advanced education in nursing, gaining in-depth knowledge and practical skills in patient care, clinical assessment, and healthcare management. Studies provided a strong foundation in evidence-based practice, critical thinking, and leadership in healthcare settings, preparing for both clinical and research roles in nursing.</p>
                    </div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-date">2021 - 2022</div>
                    <div class="timeline-content">
                        <h3>Rotation Nurse</h3>
                        <p class="text-tertiary">Tamale Teaching Hospital</p>
                        <p>Gained comprehensive clinical experience across diverse hospital departments, including Public Health, Internal Medicine, Pediatrics, Emergency, and Oncology. Engaged actively in patient care by performing thorough nursing assessments, administering prescribed medications, and closely monitoring patient progress to ensure optimal recovery and safety. Collaborated with the Child Welfare Clinic (CWC) to conduct routine health assessments, provide immunizations, and deliver health education to parents and caregivers. Additionally, offered compassionate emotional support to patients and families, particularly in sensitive areas such as pediatric oncology, fostering trust and promoting holistic care.</p>
                    </div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-date">2017 - 2020</div>
                    <div class="timeline-content">
                        <h3>Diploma in General Nursing</h3>
                        <p class="text-tertiary">Nurses' and Midwives' Training College, Tamale</p>
                        <p>Completed foundational nursing education and clinical training at the college. The training included numerous district clinical practicums, which strengthened practical skills and patient care abilities. Successfully completed studies at Kwame Nkrumah University of Science and Technology (KNUST), graduated from the college, and obtained a license as a registered general nurse from the Nursing and Midwifery Council of Ghana (NMC). This period also marked the beginning of a research journey through involvement with the college research supervisor, Mr. Abubakari Wuni, with continued affiliation with the college until employment at Tamale Teaching Hospital in 2025.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Projects Section -->
    <section id="projects">
        <div class="container">
            <h2>R Shiny Applications</h2>
            <div class="projects-grid" id="featuredProjectsGrid">
                <!-- Featured projects will be loaded here -->
            </div>
            <div class="view-all">
                <button id="viewAllProjectsBtn" class="btn btn-outline">View All Applications</button>
            </div>
        </div>
    </section>

   <!-- Publications Section -->
<section id="publications" style="background-color: var(--bg-secondary);">
    <div class="container">
        <h2>Publications</h2>
        <div class="publications-grid">
            <div>
                <div class="publication-item">
                    <h3>Determinants and Mitigating Factors of Brain Drain among Ghanaian Nurses</h3>
                    <p class="publication-meta">Journal of Nursing Management, 2024</p>
                    <p><strong>Authors:</strong> <strong><u>Ibrahim, M. M.</u></strong>, Wuni, A., Salisu, W. J., Abdulai, A., Owusua, T., Nyarko, B. A., Sayibu, A., et al</p>
                    <p>Insights from Nurse Managers in Northern Ghanaâ€”A Qualitative Inquiry</p>
                    <a href="https://onlinelibrary.wiley.com/doi/full/10.1155/2024/8862991" target="_blank" class="btn btn-outline mt-sm">Read Publication</a>
                </div>
                <div class="publication-item">
                    <h3>Assessing the impact of nurses' patient safety competencies on key performance indicators (KPIs) for patient safety outcomes at Tamale Teaching Hospital</h3>
                    <p class="publication-meta">BMC Health Services Research, 2025</p>
                    <p><strong>Authors:</strong> <strong><u>Ibrahim, M. M.</u></strong>, Abdul-Rahaman, F., Sayibu, M. S., Alhassan, D. N., Awudu, R. T., Sisala, I. M., Wuni, A., et al</p>
                    <p>The mediating role of leadership and barriers to competency development</p>
                    <a href="https://link.springer.com/article/10.1186/s12913-025-13384-3" target="_blank" class="btn btn-outline mt-sm">Read Publication</a>
                </div>
                <div class="publication-item">
                    <h3>Patterns and temporal trends in childhood cancer incidence in northern Ghana</h3>
                    <p class="publication-meta">BMC Pediatrics, 2025</p>
                    <p><strong>Authors:</strong> Wuni, A., <strong><u>Ibrahim, M. M.</u></strong>, Tonlaar, P. S., Sisala, I. M., Awal, I., Nyarko, B. A., Abdulai, A., et al</p>
                    <p>Evidence from medical records, 2016 to 2023</p>
                    <a href="https://link.springer.com/article/10.1186/s12887-025-06141-2" target="_blank" class="btn btn-outline mt-sm">Read Publication</a>
                </div>
                
                <!-- Google Scholar Button -->
                <div class="publication-item" style="text-align: center; padding-top: var(--spacing-lg);">
                    <a href="https://scholar.google.com/citations?user=xEFzAvgAAAAJ&hl=en" target="_blank" class="btn" style="display: inline-flex; align-items: center; gap: 0.5rem;">
                        <i class="fas fa-graduation-cap"></i> View All Publications on Google Scholar
                    </a>
                </div>
            </div>
            <div class="sidebar">
                <h3>Professional Reviewing</h3>
                <p class="mb-md">Contributing to the scientific community as a reviewer for several international journals, including:</p>
                <ul style="list-style: none; padding-left: 0;">
                    <li class="mb-sm">â€¢ BMC Nursing</li>
                    <li class="mb-sm">â€¢ BMC Health Services Research</li>
                    <li class="mb-sm">â€¢ Scientific Reports</li>
                    <li class="mb-sm">â€¢ Discover Public Health</li>
                    <li class="mb-sm">â€¢ Discover Health Systems</li>
                    <li class="mb-sm">â€¢ SSM - Health Systems</li>
                </ul>
                <div style="text-align: center; margin-top: var(--spacing-lg);">
                    <a href="https://1drv.ms/f/c/3ce355b70d76f4f7/Ejkh6TgFPhtNkgsfwRv6_OgBpu9S58AyaqHR_AMPJsR4Rg?e=jU8KMP" target="_blank" class="btn btn-outline">
                        View Review Certificates
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>

    <!-- Blog Section -->
    <section id="blog" class="blog-section">
        <div class="container">
            <h2>Blog</h2>
            <p class="text-center mb-lg" style="max-width: 800px; margin: 0 auto;">
                Insights, tutorials, and reflections on healthcare research, data analysis, nursing practice, 
                and the development of R Shiny applications for healthcare professionals.
            </p>
            
            <div class="blog-grid" id="blogPostsContainer">
                <!-- Blog posts will be loaded here dynamically -->
                <div class="blog-loading">
                    <i class="fas fa-spinner fa-spin fa-2x"></i>
                    <p style="margin-top: var(--spacing-sm);">Loading blog posts...</p>
                </div>
            </div>
            
            <div class="blog-load-more">
                <a href="https://mudasiribrahim.blogspot.com/" target="_blank" class="btn">
                    <i class="fas fa-external-link-alt"></i> Visit My Full Blog
                </a>
            </div>
        </div>
    </section>

   <!-- Contact Section -->
<section id="contact">
    <div class="container">
        <h2 class="text-center">Contact</h2>
        <div class="contact-info">
            <p>
                I'm always interested in hearing about new opportunities, collaborations, or discussing 
                healthcare research and data analytics projects. Fill out the form below to get in touch!
            </p>
        </div>
        
<!-- Contact Form -->
<div class="contact-form-container" style="max-width: 800px; margin: 0 auto var(--spacing-lg);">
    <form id="contactForm" style="background-color: var(--bg-secondary); padding: var(--spacing-lg); border-radius: 12px; border: 1px solid var(--border);">
        <div class="form-row" style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--spacing-md); margin-bottom: var(--spacing-md);">
            <div class="form-group">
                <label for="fullName" style="display: block; margin-bottom: 0.5rem; font-weight: 500; color: var(--text-primary);">
                    Full Name <span style="color: #ff0000;">*</span>
                </label>
                <input type="text" id="fullName" name="name" required 
                       style="width: 100%; padding: 0.75rem 1rem; border: 1px solid var(--border); border-radius: 6px; background-color: var(--bg-primary); color: var(--text-primary); font-size: 1rem; transition: var(--transition);"
                       onfocus="this.style.borderColor='var(--accent)'; this.style.outline='none';"
                       onblur="this.style.borderColor='var(--border)';">
            </div>
            
            <div class="form-group">
                <label for="email" style="display: block; margin-bottom: 0.5rem; font-weight: 500; color: var(--text-primary);">
                    Email Address <span style="color: #ff0000;">*</span>
                </label>
                <input type="email" id="email" name="email" required 
                       style="width: 100%; padding: 0.75rem 1rem; border: 1px solid var(--border); border-radius: 6px; background-color: var(--bg-primary); color: var(--text-primary); font-size: 1rem; transition: var(--transition);"
                       onfocus="this.style.borderColor='var(--accent)'; this.style.outline='none';"
                       onblur="this.style.borderColor='var(--border)';">
            </div>
        </div>
        
        <div class="form-group" style="margin-bottom: var(--spacing-md);">
            <label for="subject" style="display: block; margin-bottom: 0.5rem; font-weight: 500; color: var(--text-primary);">
                Subject
            </label>
            <input type="text" id="subject" name="subject" 
                   placeholder="What is this regarding?"
                   style="width: 100%; padding: 0.75rem 1rem; border: 1px solid var(--border); border-radius: 6px; background-color: var(--bg-primary); color: var(--text-primary); font-size: 1rem; transition: var(--transition);"
                   onfocus="this.style.borderColor='var(--accent)'; this.style.outline='none';"
                   onblur="this.style.borderColor='var(--border)';">
        </div>
        
        <div class="form-group" style="margin-bottom: var(--spacing-md);">
            <label for="message" style="display: block; margin-bottom: 0.5rem; font-weight: 500; color: var(--text-primary);">
                Message <span style="color: #ff0000;">*</span>
            </label>
            <textarea id="message" name="message" rows="6" required 
                      placeholder="Please describe your reason for contacting, collaboration idea, or project details..."
                      style="width: 100%; padding: 0.75rem 1rem; border: 1px solid var(--border); border-radius: 6px; background-color: var(--bg-primary); color: var(--text-primary); font-size: 1rem; resize: vertical; transition: var(--transition);"
                      onfocus="this.style.borderColor='var(--accent)'; this.style.outline='none';"
                      onblur="this.style.borderColor='var(--border)';"></textarea>
        </div>
        
        <!-- Hidden field for Formspree -->
        <input type="hidden" name="_subject" value="New Contact Form Submission from Website">
        
        <div id="formMessage" style="display: none; padding: 0.75rem 1rem; margin-bottom: var(--spacing-md); border-radius: 6px; font-weight: 500;"></div>
        
        <div style="text-align: center;">
            <button type="submit" class="btn" style="padding: 0.875rem 2.5rem; font-size: 1.1rem;">
                <i class="fas fa-paper-plane"></i> Send Message
            </button>
        </div>
    </form>
</div>
                    </div>
        
        <!-- Contact Information Below Form -->
        <div class="contact-links">
            <a href="mailto:mudassiribrahim30@gmail.com" class="contact-item">
                <i class="fas fa-envelope"></i>
                <span>contact@mudasiribrahim.com</span>
            </a>
            <a href="https://maps.google.com/?q=Tamale+Northern+Region,Ghana" target="_blank" class="contact-item">
                <i class="fas fa-map-marker-alt"></i>
                <span>Tamale, Northern Region, Ghana</span>
            </a>
        </div>
<!-- YouTube Section -->
<div class="simple-youtube">
    <h3 class="text-center mb-md">Watch My Video on YouTube</h3>
    <div class="youtube-wrapper">
        <!-- YouTube embed with proper parameters to avoid Error 153 -->
        <iframe 
            width="100%" 
            height="400" 
            src="https://www.youtube.com/embed/dJbeWr5AyKg?si=CNDbjl1hZKX3m1Rk" 
            title="YouTube video player" 
            frameborder="0" 
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
            allowfullscreen>
        </iframe>
    </div>
    <div class="text-center mt-md">
        <a href="https://www.youtube.com/@mudasirmohammedibrahim1026/videos" target="_blank" class="btn" style="background-color: #ff0000;">
            <i class="fab fa-youtube"></i> Visit my YouTube channel for more tutorials
        </a>
    </div>
</div>


            <div class="text-center mt-lg">
                <a href="https://wa.me/233549343058" target="_blank" class="btn" style="margin-right: 1rem;">
                    <i class="fab fa-whatsapp"></i> WhatsApp
                </a>
                <a href="https://1drv.ms/f/c/3ce355b70d76f4f7/EvOg3kpoGi1JlFokbzBzEIgBDYXASGIRoLVHrXceFZDrJg?e=tF8arF" target="_blank" class="btn btn-outline">
                    <i class="fas fa-download"></i> Download CV
                </a>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container footer-content">
            <div>
                <p class="copyright">&copy; <span id="currentYear"></span> Mudasir Mohammed Ibrahim. All rights reserved.</p>
                <p class="developer-note">Website designed and powered by Mudasir Mohammed Ibrahim</p>
            </div>
            <div class="footer-links">
                <a href="https://github.com/mudassiribrahim30" target="_blank">GitHub</a>
                <a href="https://linkedin.com/in/mudasir-mohammed-ibrahim-16b5141b0" target="_blank">LinkedIn</a>
                <a href="https://scholar.google.com/citations?user=xEFzAvgAAAAJ&hl=en" target="_blank">Google Scholar</a>
            </div>
        </div>
    </footer>

    <!-- All Projects Modal -->
    <div class="modal" id="allProjectsModal">
        <div class="modal-content">
            <button class="close-modal" id="closeModal">&times;</button>
            <h2>All R Shiny Applications</h2>
            <div class="projects-grid" id="allProjectsGrid">
                <!-- All projects will be loaded here -->
            </div>
        </div>
    </div>

    <script>
    // Initialize
document.addEventListener('DOMContentLoaded', function() {
    // Set current year (automatic yearly update)
    document.getElementById('currentYear').textContent = new Date().getFullYear();
    
    // Load projects
    loadFeaturedProjects();
    loadAllProjects();
    
    // Initialize theme (ONLY CALL THIS ONCE)
    initTheme();
    
    // Initialize mobile menu
    initMobileMenu();
    
    // Initialize modal
    initModal();
    
    // Initialize smooth scrolling
    initSmoothScroll();
    
    // Initialize contact form with AJAX submission
    initContactForm();
    
    // Initialize search functionality
    initSearch();
    
    // Load blog posts
    loadBlogPosts();
});

        // All 20 R Shiny Applications Data
        const allProjects = [
            {
                id: 1,
                name: "APA Table Generator",
                description: "Generate APA formatted tables for research papers and publications",
                runUrl: "https://newappstesting.shinyapps.io/APATableGenerator/",
                codeUrl: "https://github.com/mudassiribrahim30/R-Shiny-Apps/blob/main/APA%20Table%20Generator%20Pro.R",
                imageUrl: "https://raw.githubusercontent.com/mudassiribrahim12/me/main/APA logo.png"
            },
            {
                id: 2,
                name: "SysSampler",
                description: "Systematic sampling tool for research studies with various sampling methods",
                runUrl: "https://mudassiribrahim2025b.shinyapps.io/SysSampler/",
                codeUrl: "https://github.com/mudassiribrahim30/R-Shiny-Apps/blob/main/SysSampler",
                imageUrl: "https://raw.githubusercontent.com/mudassiribrahim12/me/main/Sys Sampler.png"
            },
            {
                id: 3,
                name: "CATrend Analyzer",
                description: "Cochran-Armitage test for trend tool",
                runUrl: "https://newappstesting.shinyapps.io/CATrendAnalyzer/",
                codeUrl: "https://github.com/mudassiribrahim30/R-Shiny-Apps/blob/main/CATrendAnalyzer.R",
                imageUrl: "https://raw.githubusercontent.com/mudassiribrahim12/me/main/CAtrend.png"
            },
            {
                id: 4,
                name: "CMH Analyzer",
                description: "Cochran-Mantel-Haenszel analysis tool for stratified data",
                runUrl: "https://newappstesting.shinyapps.io/CMHAnalyzer/",
                codeUrl: "https://github.com/mudassiribrahim30/R-Shiny-Apps/blob/main/CMHAnalyzer.R",
                imageUrl: "https://raw.githubusercontent.com/mudassiribrahim12/me/main/CMH.png"
            },
            {
                id: 5,
                name: "Data2SPSS",
                description: "Convert datasets in CSV, Excel, Rdata, Stata, or SAS format into SPSS (.sav) files",
                runUrl: "https://newappstesting.shinyapps.io/Data2SPSS/",
                codeUrl: "https://github.com/mudassiribrahim30/R-Shiny-Apps/blob/main/Data2SPSS",
                imageUrl: "https://raw.githubusercontent.com/mudassiribrahim12/me/main/Data2SPSS.png"
            },
            {
                id: 6,
                name: "TNMTC DataLab",
                description: "Comprehensive data analysis software for healthcare research",
                runUrl: "https://newappstesting.shinyapps.io/NMTCDataLab/",
                codeUrl: "https://github.com/mudassiribrahim30/R-Shiny-Apps/blob/main/NMTC%20APP.R",
                imageUrl: "https://raw.githubusercontent.com/mudassiribrahim12/me/main/TNMTC.png"
            },
            {
                id: 7,
                name: "PharmaCalc Pro",
                description: "Pharmaceutical calculations for dosage and medication management",
                runUrl: "https://mudassiribrahim2025b.shinyapps.io/PharmaCalcPro/",
                codeUrl: "https://github.com/mudassiribrahim30/R-Shiny-Apps/blob/main/PharmaCalcPro.R",
                imageUrl: "https://raw.githubusercontent.com/mudassiribrahim12/me/main/Pharma.png"
            },
            {
                id: 8,
                name: "RegEffect Xplorer",
                description: "Explore regression effects visually with interactive plots",
                runUrl: "https://mudassiribrahim2025b.shinyapps.io/RegEffectXplorer/",
                codeUrl: "https://github.com/mudassiribrahim30/R-Shiny-Apps/blob/main/RegEffectXplorer.R",
                imageUrl: "https://raw.githubusercontent.com/mudassiribrahim12/me/main/RegEf.png"
            },
            {
                id: 9,
                name: "Data TransformR",
                description: "Data transformation and preprocessing tool for analytics",
                runUrl: "https://mudassiribrahim2025b.shinyapps.io/DataTransformR/",
                codeUrl: "https://github.com/mudassiribrahim30/R-Shiny-Apps/blob/main/DataTransformR.R",
                imageUrl: "https://raw.githubusercontent.com/mudassiribrahim12/me/main/DataTrans.png"
            },
            {
                id: 10,
                name: "CleanMyData",
                description: "Data screening and cleaning tool with visualization",
                runUrl: "https://mudassiribrahim2025b.shinyapps.io/CleanMyData/",
                codeUrl: "https://github.com/mudassiribrahim30/R-Shiny-Apps/blob/main/CleanMyData.R",
                imageUrl: "https://raw.githubusercontent.com/mudassiribrahim12/me/main/CleanMyData.png"
            },
            {
                id: 11,
                name: "KMPlot Genie",
                description: "Kaplan-Meier survival plot generator for clinical studies",
                runUrl: "https://mudassiribrahim30.shinyapps.io/KMPlotGenie/",
                codeUrl: "https://github.com/mudassiribrahim30/R-Shiny-Apps/blob/main/KMPlotGenie.R",
                imageUrl: "https://raw.githubusercontent.com/mudassiribrahim12/me/main/KMPlot.png"
            },
            {
                id: 12,
                name: "ggPubPlot",
                description: "Publication-ready ggplot2 visualizations with customization",
                runUrl: "https://mudassiribrahim2025.shinyapps.io/ggPubPlot/",
                codeUrl: "https://github.com/mudassiribrahim30/R-Shiny-Apps/blob/main/ggPubPlot.R",
                imageUrl: "https://raw.githubusercontent.com/mudassiribrahim12/me/main/ggLogo.png"
            },
            {
                id: 13,
                name: "EpiDem Suite",
                description: "Epidemiological data analysis suite for public health research",
                runUrl: "https://mudassiribrahim2025.shinyapps.io/EpiDemSuite/",
                codeUrl: "https://github.com/mudassiribrahim30/R-Shiny-Apps/blob/main/EpiDem%20Suite.R",
                imageUrl: "https://raw.githubusercontent.com/mudassiribrahim12/me/main/EpiDem.png"
            },
            {
                id: 14,
                name: "QuickStatsGen",
                description: "Custom Data Generator for Statistical Practice and Education",
                runUrl: "https://mudassiribrahim2025.shinyapps.io/QuickStatsGen/",
                codeUrl: "https://github.com/mudassiribrahim30/R-Shiny-Apps/blob/main/QuickStatsGen.R",
                imageUrl: "https://raw.githubusercontent.com/mudassiribrahim12/me/main/QuickStats.png"
            },
            {
                id: 15,
                name: "MedModr",
                description: "Mediation and moderation analysis tool for research studies",
                runUrl: "https://mudassiribrahim30.shinyapps.io/MedModr/",
                codeUrl: "https://github.com/mudassiribrahim30/R-Shiny-Apps/blob/main/MedModr.R",
                imageUrl: "https://raw.githubusercontent.com/mudassiribrahim12/me/main/MedModr.png"
            },
            {
                id: 16,
                name: "Robust Regressor",
                description: "Robust regression analysis for outlier-resistant modeling",
                runUrl: "https://mudassiribrahim2025.shinyapps.io/Robustregression/",
                codeUrl: "https://github.com/mudassiribrahim30/R-Shiny-Apps/blob/main/Robust%20%20Regressor.R",
                imageUrl: "https://raw.githubusercontent.com/mudassiribrahim12/me/main/Robust.png"
            },
            {
                id: 17,
                name: "ROC Curve Builder",
                description: "ROC curve analysis and diagnostic test evaluation",
                runUrl: "https://mudassiribrahim30.shinyapps.io/ROC_CURVE/",
                codeUrl: "https://github.com/mudassiribrahim30/R-Shiny-Apps/blob/main/ROC%20Curve%20Builder.R",
                imageUrl: "https://raw.githubusercontent.com/mudassiribrahim12/me/main/ROC.png"
            },
            {
                id: 18,
                name: "TagSelect",
                description: "Participant selection tool for research studies",
                runUrl: "https://mudassiribrahim30.shinyapps.io/Tagselect/",
                codeUrl: "https://github.com/mudassiribrahim30/R-Shiny-Apps/blob/main/TagSelect.R",
                imageUrl: "https://raw.githubusercontent.com/mudassiribrahim12/me/main/TagSelect.png"
            },
            {
                id: 19,
                name: "FAnalyzr",
                description: "Factor analysis and dimensionality reduction tool",
                runUrl: "https://mudassiribrahim30.shinyapps.io/fanalyzr/",
                codeUrl: "https://github.com/mudassiribrahim30/R-Shiny-Apps/blob/main/FAnalyzr.R",
                imageUrl: "https://raw.githubusercontent.com/mudassiribrahim12/me/main/FA.png"
            },
            {
                id: 20,
                name: "CalcuStats",
                description: "Tool for sample size calculation, power analysis, and descriptive statistics",
                runUrl: "https://mudassiribrahim2025.shinyapps.io/CalcuStats/",
                codeUrl: "https://github.com/mudassiribrahim30/R-Shiny-Apps/blob/main/CalcuStats.R",
                imageUrl: "https://raw.githubusercontent.com/mudassiribrahim12/me/main/CalcuStats.png"
            }
        ];

        // Load Featured Projects (first 6)
        function loadFeaturedProjects() {
            const container = document.getElementById('featuredProjectsGrid');
            container.innerHTML = '';
            const featured = allProjects.slice(0, 6);
            
            featured.forEach(project => {
                container.appendChild(createProjectCard(project));
            });
        }

        // Load All Projects
        function loadAllProjects() {
            const container = document.getElementById('allProjectsGrid');
            container.innerHTML = '';
            
            allProjects.forEach(project => {
                container.appendChild(createProjectCard(project));
            });
        }

        // Create Project Card
        function createProjectCard(project) {
            const card = document.createElement('div');
            card.className = 'project-card';
            
            card.innerHTML = `
                <div class="project-img-container">
                    <img src="${project.imageUrl}" alt="${project.name}" class="project-img" onerror="this.src='https://via.placeholder.com/300x200?text=R+Shiny'">
                </div>
                <div class="project-info">
                    <h3>${project.name}</h3>
                    <p>${project.description}</p>
                    <div class="project-tags">
                        <span class="tag">R Shiny</span>
                        <span class="tag">Healthcare</span>
                        <span class="tag">Research</span>
                    </div>
                    <div class="project-actions">
                        <a href="${project.runUrl}" target="_blank" class="btn">Run App</a>
                        <a href="${project.codeUrl}" target="_blank" class="btn btn-outline">View Code</a>
                    </div>
                </div>
            `;
            
            return card;
        }

        // Theme Toggle
        function initTheme() {
            const themeToggle = document.getElementById('themeToggle');
            const themeIcon = themeToggle.querySelector('i');
          
          // Theme Toggle - FIXED VERSION
function initTheme() {
    const themeToggle = document.getElementById('themeToggle');
    const themeIcon = themeToggle.querySelector('i');
    
    // Load saved theme or default to light
    const savedTheme = localStorage.getItem('theme');
    
    // Apply saved theme if it exists
    if (savedTheme === 'dark') {
        document.body.classList.add('dark-theme');
        themeIcon.className = 'fas fa-sun';
    } else {
        // Default to light theme
        document.body.classList.remove('dark-theme');
        themeIcon.className = 'fas fa-moon';
        localStorage.setItem('theme', 'light'); // Set default
    }
    
    themeToggle.addEventListener('click', () => {
        const isDark = document.body.classList.toggle('dark-theme');
        themeIcon.className = isDark ? 'fas fa-sun' : 'fas fa-moon';
        localStorage.setItem('theme', isDark ? 'dark' : 'light');
    });
}  
            
            themeToggle.addEventListener('click', () => {
                const isDark = document.body.classList.toggle('dark-theme');
                themeIcon.className = isDark ? 'fas fa-sun' : 'fas fa-moon';
                localStorage.setItem('theme', isDark ? 'dark' : 'light');
            });
        }

        // Mobile Menu
        function initMobileMenu() {
            const mobileMenu = document.getElementById('mobileMenu');
            const mobileNav = document.getElementById('mobileNav');
            
            mobileMenu.addEventListener('click', () => {
                mobileNav.classList.toggle('active');
                mobileMenu.innerHTML = mobileNav.classList.contains('active') 
                    ? '<i class="fas fa-times"></i>' 
                    : '<i class="fas fa-bars"></i>';
            });
            
            // Close menu when clicking a link
            mobileNav.querySelectorAll('a').forEach(link => {
                link.addEventListener('click', () => {
                    mobileNav.classList.remove('active');
                    mobileMenu.innerHTML = '<i class="fas fa-bars"></i>';
                });
            });
        }

        // Modal
        function initModal() {
            const viewAllBtn = document.getElementById('viewAllProjectsBtn');
            const modal = document.getElementById('allProjectsModal');
            const closeBtn = document.getElementById('closeModal');
            
            viewAllBtn.addEventListener('click', () => {
                modal.style.display = 'block';
                document.body.style.overflow = 'hidden';
            });
            
            closeBtn.addEventListener('click', () => {
                modal.style.display = 'none';
                document.body.style.overflow = 'auto';
            });
            
            // Close when clicking outside
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    modal.style.display = 'none';
                    document.body.style.overflow = 'auto';
                }
            });
        }

        // Smooth Scroll
        function initSmoothScroll() {
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    const targetId = this.getAttribute('href');
                    if (targetId === '#') return;
                    
                    const targetElement = document.querySelector(targetId);
                    if (targetElement) {
                        const headerHeight = document.querySelector('header').offsetHeight;
                        const targetPosition = targetElement.offsetTop - headerHeight;
                        
                        window.scrollTo({
                            top: targetPosition,
                            behavior: 'smooth'
                        });
                    }
                });
            });
        }

        // Header scroll effect
        window.addEventListener('scroll', () => {
            const header = document.querySelector('header');
            if (window.scrollY > 50) {
                header.style.boxShadow = '0 2px 20px rgba(0, 0, 0, 0.1)';
            } else {
                header.style.boxShadow = 'none';
            }
        });
        
 // Alternative: Using Blogger API v3 (requires API key)
async function loadBlogPostsWithAPI() {
    const container = document.getElementById('blogPostsContainer');
    
    try {
        // Blogger API Configuration
        const BLOG_ID = '8194170419373069229'; // Replace with your blog ID
        const API_KEY = 'AIzaSyBmLfKxCC9uIKdZcQsTjtXsZ71p-wi8x7g'; // Get from Google Cloud Console
        
        // Get blog ID from URL: your-blog-name.blogspot.com
        // Or find it in Blogger Settings > Basic > Blog Address
        
        const apiUrl = `https://www.googleapis.com/blogger/v3/blogs/${BLOG_ID}/posts?key=${API_KEY}&maxResults=6&fetchBodies=true&fetchImages=true`;
        
        const response = await fetch(apiUrl);
        
        if (!response.ok) {
            throw new Error(`API Error: ${response.status}`);
        }
        
        const data = await response.json();
        
        // Check if we have posts
        if (!data.items || data.items.length === 0) {
            throw new Error('No blog posts found');
        }
        
        // Clear loading message
        container.innerHTML = '';
        
        // Display posts
        data.items.forEach((post) => {
            const postCard = createBlogPostCardAPI(post);
            container.appendChild(postCard);
        });
        
    } catch (error) {
        console.error('Error loading blog posts:', error);
        showErrorState(container, error);
    }
}

// Create Blog Post Card using API data
function createBlogPostCardAPI(post) {
    const card = document.createElement('div');
    card.className = 'blog-card';
    
    // Extract post data
    const title = post.title || 'Untitled Post';
    const published = post.published ? formatDate(post.published) : 'Unknown date';
    const content = post.content || '';
    const excerpt = post.content ? 
        post.content.replace(/<[^>]*>/g, '').substring(0, 120) + '...' : 
        'No content available';
    
    // Get thumbnail image
    let thumbnail = 'https://raw.githubusercontent.com/mudassiribrahim12/me/main/blog-default.jpg';
    if (post.images && post.images.length > 0) {
        thumbnail = post.images[0].url;
    }
    
    // Get post URL
    const postUrl = post.url;
    
    // Get author
    const author = post.author?.displayName || 'Mudasir M. Ibrahim';
    
    // Get labels
    let tags = post.labels || [];
    tags = tags.slice(0, 3); // Show only first 3 tags
    
    // Create card HTML
    card.innerHTML = `
        <div class="blog-image-container">
            <img src="${thumbnail}" alt="${title}" class="blog-image" 
                 onerror="this.src='https://raw.githubusercontent.com/mudassiribrahim12/me/main/blog-default.jpg'">
        </div>
        <div class="blog-content">
            <div class="blog-meta">
                <span class="blog-date">
                    <i class="far fa-calendar"></i> ${published}
                </span>
                <span class="blog-author">
                    <i class="far fa-user"></i> ${author}
                </span>
            </div>
            <h3 class="blog-title">${title}</h3>
            <p class="blog-excerpt">${excerpt}</p>
            
            ${tags.length > 0 ? `
                <div class="blog-tags">
                    ${tags.map(tag => `<span class="blog-tag">${tag}</span>`).join('')}
                </div>
            ` : ''}
            
            <div class="blog-read-more">
                <a href="${postUrl}" target="_blank" class="btn btn-outline">
                    Read More <i class="fas fa-arrow-right"></i>
                </a>
            </div>
        </div>
    `;
    
    return card;
}
        // Contact Form Submission
        function initContactForm() {
            const contactForm = document.getElementById('contactForm');
            const formMessage = document.getElementById('formMessage');
            
            contactForm.addEventListener('submit', async function(e) {
                e.preventDefault();
                
                // Get form data
                const formData = {
                    fullName: document.getElementById('fullName').value,
                    email: document.getElementById('email').value,
                    subject: document.getElementById('subject').value,
                    message: document.getElementById('message').value,
                    timestamp: new Date().toISOString()
                };
                
                // Show loading state
                const submitBtn = contactForm.querySelector('button[type="submit"]');
                const originalBtnText = submitBtn.innerHTML;
                submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Sending...';
                submitBtn.disabled = true;
                
                // For demonstration purposes - In production, use a backend service
                try {
                    // This is a demo implementation
                    await sendEmailThroughService(formData);
                    
                    // Show success message
                    formMessage.style.display = 'block';
                    formMessage.style.backgroundColor = 'rgba(76, 175, 80, 0.1)';
                    formMessage.style.border = '1px solid #4caf50';
                    formMessage.style.color = '#4caf50';
                    formMessage.innerHTML = '<i class="fas fa-check-circle"></i> Thank you! Your message has been sent successfully. I will get back to you soon.';
                    
                    // Reset form
                    contactForm.reset();
                    
                    // Hide message after 5 seconds
                    setTimeout(() => {
                        formMessage.style.display = 'none';
                    }, 5000);
                    
                } catch (error) {
                    // Show error message
                    formMessage.style.display = 'block';
                    formMessage.style.backgroundColor = 'rgba(244, 67, 54, 0.1)';
                    formMessage.style.border = '1px solid #f44336';
                    formMessage.style.color = '#f44336';
                    formMessage.innerHTML = '<i class="fas fa-exclamation-circle"></i> There was an error sending your message. Please try again or email me directly at mudassiribrahim30@gmail.com';
                } finally {
                    // Reset button
                    submitBtn.innerHTML = originalBtnText;
                    submitBtn.disabled = false;
                }
            });
        }

        // Demo email sending function
        async function sendEmailThroughService(formData) {
            // For demo purposes - simulate API call
            return new Promise((resolve, reject) => {
                setTimeout(() => {
                    // Log form data for now
                    console.log('Form data submitted:', formData);
                    console.log('To implement email: Use Formspree, EmailJS, or backend API');
                    
                    // For now, simulate success
                    // In production, replace with actual service
                    // Example Formspree:
                    /*
                    fetch('https://formspree.io/f/xanrpwae', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({
                            name: formData.fullName,
                            _replyto: formData.email,
                            subject: formData.subject,
                            message: formData.message,
                            _subject: 'New Contact Form Submission'
                        })
                    })
                    .then(response => response.ok ? resolve() : reject())
                    .catch(() => reject());
                    */
                    
                    resolve(); // Simulate success
                }, 1500);
            });
        }
        
   // Search functionality
function initSearch() {
    const searchToggle = document.getElementById('searchToggle');
    const searchDropdown = document.getElementById('searchDropdown');
    const searchInput = document.getElementById('searchInput');
    const searchSubmit = document.getElementById('searchSubmit');
    const mobileMenu = document.getElementById('mobileMenu');
    const mobileNav = document.getElementById('mobileNav');
    
    // Toggle search dropdown
    searchToggle.addEventListener('click', (e) => {
        e.stopPropagation();
        searchDropdown.classList.toggle('active');
        
        // Close mobile menu if open
        if (mobileNav.classList.contains('active')) {
            mobileNav.classList.remove('active');
            mobileMenu.innerHTML = '<i class="fas fa-bars"></i>';
        }
        
        // Focus on input when dropdown opens
        if (searchDropdown.classList.contains('active')) {
            setTimeout(() => {
                searchInput.focus();
            }, 100);
        }
    });
    
    // Close search when clicking outside
    document.addEventListener('click', (e) => {
        if (!searchDropdown.contains(e.target) && !searchToggle.contains(e.target)) {
            searchDropdown.classList.remove('active');
            const searchResults = document.getElementById('searchResults');
            searchResults.classList.remove('active');
            searchResults.innerHTML = '';
        }
    });
    
    // Prevent closing when clicking inside search dropdown
    searchDropdown.addEventListener('click', (e) => {
        e.stopPropagation();
    });
    
    // Perform search
    function performSearch(query) {
        if (!query.trim()) {
            const searchResults = document.getElementById('searchResults');
            searchResults.classList.remove('active');
            searchResults.innerHTML = '';
            return;
        }
        
        const results = searchWebsite(query.toLowerCase());
        displayResults(results, query);
    }
    
    // Search on input with debounce
    let searchTimeout;
    searchInput.addEventListener('input', (e) => {
        clearTimeout(searchTimeout);
        searchTimeout = setTimeout(() => {
            performSearch(e.target.value);
        }, 300);
    });
    
    // Search on submit
    searchSubmit.addEventListener('click', () => {
        performSearch(searchInput.value);
    });
    
    // Search on Enter key
    searchInput.addEventListener('keypress', (e) => {
        if (e.key === 'Enter') {
            e.preventDefault();
            performSearch(searchInput.value);
        }
    });
    
    // Add suggestions on focus
    searchInput.addEventListener('focus', () => {
        if (searchInput.value.trim() === '') {
            const suggestions = [
                "R Shiny applications",
                "Healthcare research",
                "Statistical analysis",
                "Nursing experience",
                "Publications",
                "Blog posts"
            ];
            
            const searchResults = document.getElementById('searchResults');
            let suggestionsHTML = '<div class="no-results" style="text-align: left;">';
            suggestionsHTML += '<p style="font-weight: 600; margin-bottom: 0.5rem; color: var(--text-primary);">Try searching for:</p>';
            suggestions.forEach(suggestion => {
                suggestionsHTML += `<div style="padding: 0.25rem 0; color: var(--accent); cursor: pointer;" onclick="document.getElementById('searchInput').value='${suggestion}'; performSearch('${suggestion}')">${suggestion}</div>`;
            });
            suggestionsHTML += '</div>';
            
            searchResults.innerHTML = suggestionsHTML;
            searchResults.classList.add('active');
        }
    });
}

// Enhanced searchWebsite function with detailed navigation
function searchWebsite(query) {
    const searchableContent = [
        // Home/Hero section
        {
            id: 'home-content',
            title: 'Home - Mudasir Mohammed Ibrahim',
            content: 'A dedicated healthcare professional and data analyst developing accessible R Shiny applications to simplify complex analyses for healthcare professionals, students, and researchers. Registered Nurse & Healthcare Researcher.',
            url: '#home',
            type: 'section',
            sectionId: 'home',
            elementId: 'home'
        },
        
        // About section
        {
            id: 'about-content',
            title: 'About Mudasir',
            content: 'Mudasir Mohammed Ibrahim is a dedicated Ghanaian nurse with extensive clinical experience at Tamale Teaching Hospital. He is also an experienced researcher with expertise in advanced quantitative methods including Structural Equation Modeling (SEM), factor analysis, and other rigorous statistical techniques.',
            url: '#about',
            type: 'section',
            sectionId: 'about',
            elementId: 'about'
        },
        
        // Research interests
        {
            id: 'research-interests',
            title: 'Research Interests',
            content: 'Chronic Diseases Epidemiology, Maternal and Child Health, Public Health, Workplace Issues',
            url: '#about',
            type: 'subsection',
            sectionId: 'about',
            elementId: 'research-interests'
        },
        
        // Core competencies
        {
            id: 'core-competencies',
            title: 'Core Competencies',
            content: 'Health/Clinical Research, Advanced Statistical Analysis, R Shiny Development (AI-assisted coding), Scientific Writing & Peer Review',
            url: '#about',
            type: 'subsection',
            sectionId: 'about',
            elementId: 'skills'
        },
        
        // Education & Experience
        {
            id: 'education-content',
            title: 'Education & Experience',
            content: 'Staff Nurse at Tamale Teaching Hospital, Bachelor of Science in Nursing from University of Cape Coast, Rotation Nurse at Tamale Teaching Hospital, Diploma in General Nursing from Nurses and Midwives Training College',
            url: '#education',
            type: 'section',
            sectionId: 'education',
            elementId: 'education'
        },
        
        // Projects/R Shiny Apps - Main section
        {
            id: 'projects-content',
            title: 'R Shiny Applications',
            content: 'APA Table Generator, SysSampler, CATrend Analyzer, CMH Analyzer, Data2SPSS, TNMTC DataLab, PharmaCalc Pro, RegEffect Xplorer, Data TransformR, CleanMyData, KMPlot Genie, ggPubPlot, EpiDem Suite, QuickStatsGen, MedModr, Robust Regressor, ROC Curve Builder, TagSelect, FAnalyzr, CalcuStats',
            url: '#projects',
            type: 'section',
            sectionId: 'projects',
            elementId: 'projects'
        },
        
        // Publications
        {
            id: 'publications-content',
            title: 'Publications',
            content: 'Determinants and Mitigating Factors of Brain Drain among Ghanaian Nurses, Assessing the impact of nurses patient safety competencies on key performance indicators (KPIs) for patient safety outcomes at Tamale Teaching Hospital, Patterns and temporal trends in childhood cancer incidence in northern Ghana',
            url: '#publications',
            type: 'section',
            sectionId: 'publications',
            elementId: 'publications'
        },
        
        // Blog Section
        {
            id: 'blog-content',
            title: 'Blog - Insights and Tutorials',
            content: 'Healthcare research insights, data analysis tutorials, nursing practice reflections, and R Shiny application development guides.',
            url: '#blog',
            type: 'section',
            sectionId: 'blog',
            elementId: 'blog'
        },
        
        // Contact
        {
            id: 'contact-content',
            title: 'Contact Information',
            content: 'Email: mudassiribrahim30@gmail.com, Location: Tamale, Northern Region, Ghana, WhatsApp: +233549343058, YouTube channel for tutorials',
            url: '#contact',
            type: 'section',
            sectionId: 'contact',
            elementId: 'contact'
        }
    ];
    
    // Add all project details for search - these will open in modal
    allProjects.forEach(project => {
        searchableContent.push({
            id: `project-${project.id}`,
            title: `R Shiny App: ${project.name}`,
            content: project.description,
            url: '#projects',
            type: 'project',
            sectionId: 'projects',
            elementId: `project-${project.id}`,
            projectId: project.id,
            projectName: project.name
        });
    });
    
    // Filter results based on query
    return searchableContent.filter(item => {
        const searchText = (item.title + ' ' + item.content).toLowerCase();
        return searchText.includes(query.toLowerCase());
    });
}

// Enhanced function to display search results with click handlers
function displayResults(results, query) {
    const searchResults = document.getElementById('searchResults');
    
    if (results.length === 0) {
        searchResults.innerHTML = `
            <div class="no-results">
                <p>No results found for "${query}"</p>
                <p style="font-size: 0.85rem; margin-top: 0.5rem;">Try searching for: research, nursing, R Shiny, publications, blog, contact</p>
            </div>
        `;
        searchResults.classList.add('active');
        return;
    }
    
    let resultsHTML = '';
    results.slice(0, 8).forEach(result => {
        // Highlight search terms in results
        let highlightedContent = result.content;
        let highlightedTitle = result.title;
        
        // Simple highlighting logic
        if (query.length > 2) {
            const regex = new RegExp(`(${query})`, 'gi');
            highlightedContent = result.content.replace(regex, '<span class="search-highlight">$1</span>');
            highlightedTitle = result.title.replace(regex, '<span class="search-highlight">$1</span>');
        }
        
        // Add data attributes for enhanced navigation
        resultsHTML += `
            <div class="search-result-item" 
                 data-result-type="${result.type}" 
                 data-section-id="${result.sectionId}" 
                 data-element-id="${result.elementId}"
                 data-project-id="${result.projectId || ''}"
                 data-project-name="${result.projectName || ''}">
                <div class="search-result-title">${highlightedTitle}</div>
                <div class="search-result-content">${highlightedContent}</div>
                <div style="font-size: 0.7rem; color: var(--text-tertiary); margin-top: 0.25rem;">
                    ${result.type === 'project' ? 'Click to open in "All Applications"' : 'Click to navigate'}
                </div>
            </div>
        `;
    });
    
    if (results.length > 8) {
        resultsHTML += `
            <div class="no-results" style="text-align: center; padding: 0.75rem;">
                <p>+ ${results.length - 8} more results</p>
            </div>
        `;
    }
    
    searchResults.innerHTML = resultsHTML;
    searchResults.classList.add('active');
    
    // Add click handlers to search results
    addSearchResultClickHandlers();
}
// Add this helper function to close search
function closeSearch() {
    const searchDropdown = document.getElementById('searchDropdown');
    const searchResults = document.getElementById('searchResults');
    const searchInput = document.getElementById('searchInput');
    
    searchDropdown.classList.remove('active');
    searchResults.classList.remove('active');
    searchResults.innerHTML = '';
    searchInput.value = '';
}

// Function to add click handlers to search results
function addSearchResultClickHandlers() {
    const searchResultItems = document.querySelectorAll('.search-result-item');
    
    searchResultItems.forEach(item => {
        item.addEventListener('click', function() {
            const resultType = this.getAttribute('data-result-type');
            const sectionId = this.getAttribute('data-section-id');
            const elementId = this.getAttribute('data-element-id');
            const projectId = this.getAttribute('data-project-id');
            const projectName = this.getAttribute('data-project-name');
            
            // Close search dropdown
            closeSearch();
            
            // Navigate based on result type
            if (resultType === 'project') {
                navigateToProject(projectId, projectName, sectionId);
            } else {
                navigateToSection(sectionId, elementId);
            }
        });
    });
}

// Function to navigate to a section and highlight it
function navigateToSection(sectionId, elementId) {
    const targetElement = document.getElementById(elementId);
    
    if (targetElement) {
        // Smooth scroll to section
        const headerHeight = document.querySelector('header').offsetHeight;
        const targetPosition = targetElement.offsetTop - headerHeight;
        
        window.scrollTo({
            top: targetPosition,
            behavior: 'smooth'
        });
        
        // Add highlight animation after scroll
        setTimeout(() => {
            highlightElement(targetElement, elementId);
        }, 500);
    } else {
        // Fallback to section navigation
        const sectionElement = document.getElementById(sectionId);
        if (sectionElement) {
            const headerHeight = document.querySelector('header').offsetHeight;
            const targetPosition = sectionElement.offsetTop - headerHeight;
            
            window.scrollTo({
                top: targetPosition,
                behavior: 'smooth'
            });
            
            setTimeout(() => {
                highlightElement(sectionElement, sectionId);
            }, 500);
        }
    }
}

// Function to navigate to a project (opens modal)
function navigateToProject(projectId, projectName, sectionId) {
    // First navigate to projects section
    const projectsSection = document.getElementById(sectionId);
    if (projectsSection) {
        const headerHeight = document.querySelector('header').offsetHeight;
        const targetPosition = projectsSection.offsetTop - headerHeight;
        
        window.scrollTo({
            top: targetPosition,
            behavior: 'smooth'
        });
    }
    
    // Open the modal after a short delay
    setTimeout(() => {
        const modal = document.getElementById('allProjectsModal');
        const modalContent = modal.querySelector('.modal-content');
        
        modal.style.display = 'block';
        document.body.style.overflow = 'hidden';
        
        // Find and highlight the specific project in the modal
        setTimeout(() => {
            highlightProjectInModal(projectId, projectName);
        }, 300);
    }, 500);
}

// Function to highlight an element with animation
function highlightElement(element, elementId) {
    // Remove any previous highlights
    document.querySelectorAll('.search-highlight-animation').forEach(el => {
        el.classList.remove('search-highlight-animation');
    });
    
    // Add highlight animation to the target element
    element.classList.add('search-highlight-animation');
    
    // Remove animation after it completes
    setTimeout(() => {
        element.classList.remove('search-highlight-animation');
    }, 6000);
}

// Function to highlight a specific project in the modal
function highlightProjectInModal(projectId, projectName) {
    // Remove any previous modal highlights
    document.querySelectorAll('.modal-project-highlight').forEach(el => {
        el.classList.remove('modal-project-highlight');
    });
    
    // Find the project card in the modal
    const modalProjects = document.querySelectorAll('#allProjectsGrid .project-card');
    let foundProject = null;
    
    // Try to find by project name
    modalProjects.forEach(projectCard => {
        const projectTitle = projectCard.querySelector('h3').textContent;
        if (projectTitle.toLowerCase().includes(projectName.toLowerCase())) {
            foundProject = projectCard;
        }
    });
    
    // If found, highlight it
    if (foundProject) {
        // Scroll the project into view in the modal
        foundProject.scrollIntoView({
            behavior: 'smooth',
            block: 'center'
        });
        
        // Add highlight animation
        foundProject.classList.add('modal-project-highlight');
        
        // Remove animation after it completes
        setTimeout(() => {
            foundProject.classList.remove('modal-project-highlight');
        }, 6000);
    }
}

// Enhanced closeSearch function
function closeSearch() {
    const searchDropdown = document.getElementById('searchDropdown');
    const searchResults = document.getElementById('searchResults');
    const searchInput = document.getElementById('searchInput');
    
    searchDropdown.classList.remove('active');
    searchResults.classList.remove('active');
    searchResults.innerHTML = '';
    searchInput.value = '';
    
    // Remove any active highlights
    document.querySelectorAll('.search-highlight-animation').forEach(el => {
        el.classList.remove('search-highlight-animation');
    });
    document.querySelectorAll('.modal-project-highlight').forEach(el => {
        el.classList.remove('modal-project-highlight');
    });
}
        
                // Contact Form Submission with AJAX
        function initContactForm() {
            const contactForm = document.getElementById('contactForm');
            const formMessage = document.getElementById('formMessage');
            
            contactForm.addEventListener('submit', async function(e) {
                e.preventDefault();
                
                // Show loading state
                const submitBtn = contactForm.querySelector('button[type="submit"]');
                const originalBtnText = submitBtn.innerHTML;
                submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Sending...';
                submitBtn.disabled = true;
                
                // Hide any previous message
                formMessage.style.display = 'none';
                
                try {
                    // Create FormData object
                    const formData = new FormData(contactForm);
                    
                    // Send to Formspree using AJAX
                    const response = await fetch('https://formspree.io/f/xanrpwae', {
                        method: 'POST',
                        body: formData,
                        headers: {
                            'Accept': 'application/json'
                        }
                    });
                    
                    if (response.ok) {
                        // Show success message
                        formMessage.style.display = 'block';
                        formMessage.style.backgroundColor = 'rgba(76, 175, 80, 0.1)';
                        formMessage.style.border = '1px solid #4caf50';
                        formMessage.style.color = '#4caf50';
                        formMessage.innerHTML = '<i class="fas fa-check-circle"></i> Thank you! Your message has been sent successfully. I will get back to you soon.';
                        
                        // Reset form
                        contactForm.reset();
                        
                        // Hide message after 10 seconds
                        setTimeout(() => {
                            formMessage.style.display = 'none';
                        }, 10000);
                    } else {
                        // Show error message for Formspree error
                        const errorData = await response.json();
                        throw new Error(errorData.error || 'Form submission failed');
                    }
                    
                } catch (error) {
                    // Show error message
                    formMessage.style.display = 'block';
                    formMessage.style.backgroundColor = 'rgba(244, 67, 54, 0.1)';
                    formMessage.style.border = '1px solid #f44336';
                    formMessage.style.color = '#f44336';
                    formMessage.innerHTML = '<i class="fas fa-exclamation-circle"></i> There was an error sending your message. Please try again or email me directly at mudassiribrahim30@gmail.com';
                    
                    console.error('Form submission error:', error);
                } finally {
                    // Reset button
                    submitBtn.innerHTML = originalBtnText;
                    submitBtn.disabled = false;
                }
            });
        }
        
    </script>
</body>
</html>
